<!-- Top Bar -->
<div class="flex justify-between items-center px-6 py-4 bg-white shadow">
  <h1 class="text-2xl font-bold">Product Details</h1>
</div>

<!-- Product Section -->
<div class="max-w-6xl mx-auto p-6 bg-white mt-6 rounded-lg shadow">
  <div class="relative grid grid-cols-1 md:grid-cols-2 gap-8">
    <!-- Left: Images -->
    <div>
      <img
        src="<%=product.images[0].url %>"
        alt="Main Product"
        class="w-full rounded-lg border mb-4"
      />
      <div class="grid grid-cols-4 gap-4">
        <% product.images.forEach((img,index)=>{ %>
        <img
          src="<%= img.url %>"
          class="rounded-lg border cursor-pointer hover:opacity-80"
        />
        <% }) %>
      </div>
    </div>

    <!-- Right: Product Info -->
    <div>
      <h2 class="text-2xl font-semibold mb-2"><%= product.name %></h2>
      <p class="text-gray-600 mb-2">
        <span class="font-semibold"> <%= product.description %> </span>
      </p>
      <p class="text-gray-700">
        <span class="font-semibold">Price:</span> â‚¹<%= product. basePrice%>/-
      </p>
      <p class="text-gray-700">
        <span class="font-semibold">Category:</span>
        <%= product.category[0].name %>
      </p>
      <!-- <p class="text-gray-700 mb-6"><span class="font-semibold">Total Stock:</span>stock
            </p> -->

      <!-- Variants Table -->
      <h3 class="text-lg font-semibold mb-3">Variants</h3>
      <div class="overflow-x-auto">
        <table class="min-w-full border border-gray-200 rounded-lg">
          <thead class="bg-gray-100">
            <tr>
              <th class="py-2 px-4 text-left text-gray-700">Size</th>
              <th class="py-2 px-4 text-left text-gray-700">
                Additional Price
              </th>
              <th class="py-2 px-4 text-left text-gray-700">Stock</th>
              <th class="py-2 px-4 text-left text-gray-700">Status</th>
            </tr>
          </thead>
          <tbody>
            <% product.variants.forEach(variant=>{%>
            <tr class="border-t">
              <td class="py-2 px-4"><%=variant.size%></td>
              <td class="py-2 px-4"><%=variant.additionalPrice%></td>
              <td class="py-2 px-4"><%=variant.stock%></td>
              <td class="py-2 px-4">
                <span
                  class="px-3 py-1 rounded-full text-sm <%= variant.stock< 1?'bg-red-100 text-red-600':'bg-green-100 text-green-600'%>"
                  ><%= variant.stock < 1?'StockOut':'Available' %>
                </span>
              </td>
            </tr>
            <%})%>
          </tbody>
        </table>
      </div>
    </div>
    <a href="/admin/product/edit/<%= product._id %>">
      <button
        type="button"
        class="absolute right-1 bottom-1 mb-6 ml-4 flex items-center gap-3 px-5 py-2.5 text-sm font-medium text-white bg-yellow-600 rounded-lg hover:bg-yellow-300 focus:ring-4 focus:outline-none focus:ring-yellow-300"
      >
        Edit Product
      </button></a
    >
  </div>
</div>
